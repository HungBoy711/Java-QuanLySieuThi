<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Hệ thống quản lý siêu thị</title>
<meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
	name="viewport" />

<!-- Fonts and icons -->
<script src="../assets/js/plugin/webfont/webfont.min.js"></script>
<script>
        WebFont.load({
            google: { families: ["Public Sans:300,400,500,600,700"] },
            custom: {
                families: [
                    "Font Awesome 5 Solid",
                    "Font Awesome 5 Regular",
                    "Font Awesome 5 Brands",
                    "simple-line-icons",
                ],
                urls: ["../assets/css/fonts.min.css"],
            },
            active: function () {
                sessionStorage.fonts = true;
            },
        });
    </script>

<!-- CSS Files -->
<link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="../assets/css/plugins.min.css" />
<link rel="stylesheet" href="../assets/css/kaiadmin.min.css" />

<!-- CSS Just for demo purpose, don't include it in your project -->
<link rel="stylesheet" href="../assets/css/demo.css" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
</head>

<body>
	<div class="wrapper">
		<!-- Sidebar -->
		<div class="sidebar" data-background-color="dark">
			<div class="sidebar-logo">
				<!-- Logo Header -->
				<div class="logo-header" data-background-color="dark2">
					<a href="/homes" class="logo"> <img
						src="../images/logoAdmin.png" alt="navbar brand"
						class="navbar-brand" width="193" height="50" />
					</a>
					<div class="nav-toggle">
						<button class="btn btn-toggle toggle-sidebar">
							<i class="gg-menu-right"></i>
						</button>
						<button class="btn btn-toggle sidenav-toggler">
							<i class="gg-menu-left"></i>
						</button>
					</div>
					<button class="topbar-toggler more">
						<i class="gg-more-vertical-alt"></i>
					</button>
				</div>
				<!-- End Logo Header -->
			</div>
			<div class="sidebar-wrapper scrollbar scrollbar-inner">
				<div class="sidebar-content">
					<ul class="nav nav-secondary">
						<li class="nav-item active"><a href="/homes"
							aria-expanded="false"> <i
								class="fa-sharp fa-solid fa-chart-line" style="color: #b9babf"></i>
								<p>Thống kê và báo cáo</p>
						</a></li>

						<li class="nav-item"><a data-bs-toggle="collapse"
							href="#base"> <i class="fa-sharp fa-solid fa-shop"
								style="color: #b9babf;"></i>
								<p>Siêu thị</p> <span class="caret"></span>
						</a>
							<div class="collapse" id="base">
								<ul class="nav nav-collapse">
									<li><a href="/suppliers"> <span class="sub-item">Nhà
												cung cấp</span>
									</a></li>
									<li><a href="/categories"> <span class="sub-item">Danh
												mục hàng hóa</span>
									</a></li>
									<li><a href="/products"> <span class="sub-item">Hàng
												hóa</span>
									</a></li>
									<li><a href="/staffs"> <span class="sub-item">Nhân
												sự</span>
									</a></li>
								</ul>
							</div></li>
						<li class="nav-item"><a data-bs-toggle="collapse"
							href="#sidebarLayouts"> <i
								class="fa-sharp fa-solid fa-table-list" style="color: #b9babf;"></i>
								<p>Hệ thống</p> <span class="caret"></span>
						</a>
							<div class="collapse" id="sidebarLayouts">
								<ul class="nav nav-collapse">
									<li><a href="../sidebar-style-2.html"> <span
											class="sub-item">Quản lý tài khoản</span>
									</a></li>
									<li><a href="/users"> <span
											class="sub-item">Cài đặt</span>
									</a></li>
								</ul>
							</div></li>

						<li class="nav-item"><a href="/" aria-expanded="false"> <i
								class="fa-sharp fa-solid fa-arrow-right-from-bracket"></i>
								<p>Đăng xuất</p>
						</a></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- End Sidebar -->

		<div class="main-panel">
			<div class="main-header">
				<div class="main-header-logo">
					<!-- Logo Header -->
					<div class="logo-header" data-background-color="dark">
						<a href="../index.html" class="logo"> <img
							src="../assets/img/kaiadmin/logo_light.svg" alt="navbar brand"
							class="navbar-brand" height="20" />
						</a>
						<div class="nav-toggle">
							<button class="btn btn-toggle toggle-sidebar">
								<i class="gg-menu-right"></i>
							</button>
							<button class="btn btn-toggle sidenav-toggler">
								<i class="gg-menu-left"></i>
							</button>
						</div>
						<button class="topbar-toggler more">
							<i class="gg-more-vertical-alt"></i>
						</button>
					</div>
					<!-- End Logo Header -->
				</div>
				<!-- Navbar Header -->
				<nav
					class="navbar navbar-header navbar-header-transparent navbar-expand-lg border-bottom">
					<div class="container-fluid">
						<nav
							class="navbar navbar-header-left navbar-expand-lg navbar-form nav-search p-0 d-none d-lg-flex">
							<div class="input-group">
								<div class="input-group-prepend">
									<button type="submit" class="btn btn-search pe-1">
										<i class="fa fa-search search-icon"></i>
									</button>
								</div>
								<input type="text" placeholder="Tìm..." class="form-control" />
							</div>
						</nav>

						<ul class="navbar-nav topbar-nav ms-md-auto align-items-center">



							<li class="nav-item topbar-icon dropdown hidden-caret"><a
								class="nav-link dropdown-toggle" href="#" id="notifDropdown"
								role="button" data-bs-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false"> <i class="fa fa-bell"></i> <span
									class="notification">4</span>
							</a>
								<ul class="dropdown-menu notif-box animated fadeIn"
									aria-labelledby="notifDropdown">
									<li>
										<div class="dropdown-title">Thông báo</div>
									</li>
								</ul></li>


							<li class="nav-item topbar-user dropdown hidden-caret"><a
								class="dropdown-toggle profile-pic" data-bs-toggle="dropdown"
								href="#" aria-expanded="false">
									<div class="avatar-sm">
										<img src="../images/AdminIcon.png" alt="..."
											class="avatar-img rounded-circle" />
									</div> <span class="profile-username"> <span class="fw-bold">Quản
											lý</span>
								</span>
							</a>
								<ul class="dropdown-menu dropdown-user animated fadeIn">
									<div class="dropdown-user-scroll scrollbar-outer">
										<li>
											<div class="dropdown-divider"></div> <a
											class="dropdown-item text-center" href="#">Đăng xuất</a>
										</li>
									</div>
								</ul></li>
						</ul>
					</div>
				</nav>
				<!-- End Navbar -->
			</div>


			<div class="container">
				<div class="page-inner">
					<div
						class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
						<div>
							<h3 class="fw-bold mb-3">Thống kê & Báo cáo</h3>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6 col-md-3">
							<div class="card card-stats card-round">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-icon">
											<div
												class="icon-big text-center icon-primary bubble-shadow-small">
												<i class="fas fa-users"></i>
											</div>
										</div>
										<div class="col col-stats ms-3 ms-sm-0">
											<div class="numbers">
												<p class="card-category">Nhân sự</p>
												<h4 class="card-title"
													th:text="${staffCount} + ' &nbsp;Người'"></h4>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-md-3">
							<div class="card card-stats card-round">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-icon">
											<div
												class="icon-big text-center icon-info bubble-shadow-small">
												<i class="fas fa-user-check"></i>
											</div>
										</div>
										<div class="col col-stats ms-3 ms-sm-0">
											<div class="numbers">
												<p class="card-category">Tài khoản</p>
												<h4 class="card-title" th:text="${userCount} + '&nbsp;Tk'">0</h4>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-md-3">
							<div class="card card-stats card-round">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-icon">
											<div
												class="icon-big text-center icon-success bubble-shadow-small">
												<i class="fas fa-luggage-cart"></i>
											</div>
										</div>
										<div class="col col-stats ms-3 ms-sm-0">
											<div class="numbers">
												<p class="card-category">Hàng hóa</p>
												<h4 class="card-title"
													th:text="${productCount} + '&nbsp;Mặt hàng'">0</h4>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-md-3">
							<div class="card card-stats card-round">
								<div class="card-body">
									<div class="row align-items-center">
										<div class="col-icon">
											<div
												class="icon-big text-center icon-secondary bubble-shadow-small">
												<i class="far fa-check-circle"></i>
											</div>
										</div>
										<div class="col col-stats ms-3 ms-sm-0">
											<div class="numbers">
												<p class="card-category">Order</p>
												<h4 class="card-title">576</h4>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-8">
							<div class="card card-round">
								<div class="card-header">
									<div class="card-head-row">
										<div class="card-title">Biểu đồ doanh thu</div>
										<div class="card-tools"></div>
									</div>
								</div>
								<div class="card-body">
									<div class="chart-container">
										<canvas id="lineChart"></canvas>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="card card-primary card-round">
								<div class="card-header">
									<div class="card-head-row">
										<div class="card-title">Daily Sales</div>
										<div class="card-tools">
											<div class="dropdown">
												<button class="btn btn-sm btn-label-light dropdown-toggle"
													type="button" id="dropdownMenuButton"
													data-bs-toggle="dropdown" aria-haspopup="true"
													aria-expanded="false">
													Export</button>
												<div class="dropdown-menu"
													aria-labelledby="dropdownMenuButton">
													<a class="dropdown-item" href="#">Action</a> <a
														class="dropdown-item" href="#">Another action</a> <a
														class="dropdown-item" href="#">Something
														else here</a>
												</div>
											</div>
										</div>
									</div>
									<div class="card-category">March 25 - April 02</div>
								</div>
								<div class="card-body pb-0">
									<div class="mb-4 mt-2">
										<h1>$4,578.58</h1>
									</div>
									<div class="pull-in">
										<canvas id="dailySalesChart"></canvas>
									</div>
								</div>
							</div>
							<div class="card card-round">
								<div class="card-body pb-0">
									<div class="h1 fw-bold float-end text-primary">+5%</div>
									<h2 class="mb-2">17</h2>
									<p class="text-muted">Users online</p>
									<div class="pull-in sparkline-fix">
										<div id="lineChart"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="card card-round">
								<div class="card-header">
									<div class="card-head-row card-tools-still-right">
										<div class="card-title">Lịch sử hóa đơn</div>
										<div class="card-tools"></div>
									</div>
								</div>
								<div class="card-body p-0">
									<div class="table-responsive">
										<!-- Projects table -->
										<table class="table align-items-center mb-0">
											<thead class="thead-light">
												<tr>
													<th scope="col">Mã hóa đơn</th>
													<th scope="col" class="text-end">Ngày</th>
													<th scope="col" class="text-end">Vào lúc</th>
													<th scope="col" class="text-end">Tổng tiền</th>
												</tr>
											</thead>
											<tbody id="invoice-history-body">
												
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>


	</div>
	<script src="assets/js/core/jquery-3.7.1.min.js"></script>
	<script src="assets/js/core/popper.min.js"></script>
	<script src="assets/js/core/bootstrap.min.js"></script>

	<!-- jQuery Scrollbar -->
	<script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

	<!-- Chart JS -->
	<script src="assets/js/plugin/chart.js/chart.min.js"></script>

	<!-- jQuery Sparkline -->
	<script src="assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

	<!-- Chart Circle -->
	<script src="assets/js/plugin/chart-circle/circles.min.js"></script>

	<!-- Datatables -->
	<script src="assets/js/plugin/datatables/datatables.min.js"></script>


	<!-- jQuery Vector Maps -->
	<script src="assets/js/plugin/jsvectormap/jsvectormap.min.js"></script>
	<script src="assets/js/plugin/jsvectormap/world.js"></script>

	<!-- Sweet Alert -->
	<script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>

	<!-- Kaiadmin JS -->
	<script src="assets/js/kaiadmin.min.js"></script>

	<!-- Kaiadmin DEMO methods, don't include it in your project! -->
	<script src="assets/js/setting-demo.js"></script>
	<script src="assets/js/demo.js"></script>
	<script>
  var lineChart = document.getElementById("lineChart").getContext("2d");

  var myLineChart = new Chart(lineChart, {
    type: "line",
    data: {
      labels: [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
      ],
      datasets: [
        {
          label: "Active Users",
          borderColor: "#1d7af3",
          pointBorderColor: "#FFF",
          pointBackgroundColor: "#1d7af3",
          pointBorderWidth: 2,
          pointHoverRadius: 4,
          pointHoverBorderWidth: 1,
          pointRadius: 4,
          backgroundColor: "transparent",
          fill: true,
          borderWidth: 2,
          data: [
            542, 480, 430, 550, 530, 453, 380, 434, 568, 610, 700, 900,
          ],
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      legend: {
        position: "bottom",
        labels: {
          padding: 10,
          fontColor: "#1d7af3",
        },
      },
      tooltips: {
        bodySpacing: 4,
        mode: "nearest",
        intersect: 0,
        position: "nearest",
        xPadding: 10,
        yPadding: 10,
        caretPadding: 10,
      },
      layout: {
        padding: { left: 15, right: 15, top: 15, bottom: 15 },
      },
    },
  });
</script>
	<script>
    document.addEventListener('DOMContentLoaded', function () {
        function loadInvoiceHistory() {
            const historyData = localStorage.getItem('invoiceHistory');
            return historyData ? JSON.parse(historyData) : [];
        }

        function saveInvoiceHistory(invoiceHistory) {
            localStorage.setItem('invoiceHistory', JSON.stringify(invoiceHistory));
        }

        function renderInvoiceHistory() {
            const invoiceHistory = loadInvoiceHistory();
            const tableBody = document.getElementById('invoice-history-body');

            tableBody.innerHTML = ''; // Xóa nội dung cũ trước khi render mới

            if (invoiceHistory.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="4" class="text-center">Không có hóa đơn nào trong lịch sử.</td>
                    </tr>
                `;
                return;
            }

            invoiceHistory.reverse().forEach((invoice, index) => {
                const row = `
                    <tr>
                        <th scope="row">
                           
                            ${invoice.invoiceID}
                        </th>
                        <td class="text-end">${invoice.date}</td>
                        <td class="text-end">${invoice.time}</td>
                        <td class="text-end">
                           <span style="font-size: 13px; " class="badge badge-success">${invoice.total.toLocaleString()} đ</span>
                        </td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function deleteInvoice(index) {
            const invoiceHistory = loadInvoiceHistory();
            invoiceHistory.splice(index, 1); // Xóa hóa đơn tại vị trí index
            saveInvoiceHistory(invoiceHistory); // Lưu lại danh sách hóa đơn đã được cập nhật
            renderInvoiceHistory(); // Vẽ lại danh sách hóa đơn
        }

        renderInvoiceHistory();
    });
</script>

</body>

</html>